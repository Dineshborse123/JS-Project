<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Detailed Expense Analytics</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { 
      background: #f8f9fa; 
      padding: 20px; 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .chart-container {
      background: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .stats-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
    }
    .month-btn {
      margin: 5px;
      border-radius: 20px;
    }
    .month-btn.active {
      background: #007bff;
      color: white;
    }
    .category-badge {
      font-size: 0.9rem;
      padding: 5px 10px;
      margin: 2px;
    }
    .member-card {
      border-left: 4px solid #007bff;
      background: #f8f9fa;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 8px;
    }
    /* Dark mode styles */
    body.dark-mode {
      background: #181a1b;
      color: #e0e0e0;
    }
    .dark-mode .chart-container {
      background: #23272b;
      color: #e0e0e0;
      box-shadow: 0 2px 10px rgba(0,0,0,0.4);
    }
    .dark-mode .stats-card {
      background: linear-gradient(135deg, #232526 0%, #414345 100%);
      color: #fff;
    }
    .dark-mode .table {
      color: #e0e0e0;
      background: #23272b;
    }
    .dark-mode .table-striped > tbody > tr:nth-of-type(odd) {
      background-color: #23272b;
    }
    .dark-mode .table-dark {
      background-color: #181a1b;
      color: #fff;
    }
    .dark-mode .btn-outline-dark, .dark-mode .btn-outline-primary, .dark-mode .btn-outline-info {
      color: #fff;
      border-color: #444;
      background: #23272b;
    }
    .dark-mode .btn-outline-dark:hover, .dark-mode .btn-outline-primary:hover, .dark-mode .btn-outline-info:hover {
      background: #444;
      color: #fff;
    }
    .dark-mode .form-control, .dark-mode .form-select {
      background: #23272b;
      color: #e0e0e0;
      border-color: #444;
    }
    .dark-mode .form-control:focus, .dark-mode .form-select:focus {
      background: #23272b;
      color: #fff;
      border-color: #007bff;
    }
    .dark-mode .alert-danger {
      background: #6c2323;
      color: #fff;
      border-color: #a94442;
    }
    .dark-mode .badge.bg-info {
      background: #0dcaf0 !important;
      color: #23272b !important;
    }
    .dark-mode .badge.bg-primary {
      background: #375a7f !important;
      color: #fff !important;
    }
    .dark-mode .badge.bg-success {
      background: #00bc8c !important;
      color: #fff !important;
    }
  </style>
</head>
<body>

<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <h2 class="text-center mb-4">üìä Detailed Expense Analytics</h2>
      
      <!-- Navigation -->
      <div class="text-center mb-4">
        <a href="index (1).html" class="btn btn-outline-primary me-2">üè† Back to Home</a>
        <a href="monthly-graphs.html" class="btn btn-outline-info">üìà Monthly Overview</a>
      </div>

      <!-- Month Selection -->
      <div class="chart-container">
        <h5 class="mb-3">Select Month for Detailed Analysis</h5>
        <div id="monthButtons" class="text-center"></div>
      </div>

      <!-- Overall Statistics -->
      <div class="row">
        <div class="col-md-3">
          <div class="stats-card text-center">
            <h4 id="totalExpenses">‚Çπ0</h4>
            <p class="mb-0">Total Expenses</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="stats-card text-center">
            <h4 id="totalBudget">‚Çπ0</h4>
            <p class="mb-0">Total Budget</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="stats-card text-center">
            <h4 id="remainingBudget">‚Çπ0</h4>
            <p class="mb-0">Remaining</p>
          </div>
        </div>
        <div class="col-md-3">
          <div class="stats-card text-center">
            <h4 id="expenseCount">0</h4>
            <p class="mb-0">Total Entries</p>
          </div>
        </div>
      </div>

      <!-- Charts Row 1 -->
      <div class="row">
        <div class="col-md-6">
          <div class="chart-container">
            <h5>Category-wise Expenses (Pie Chart)</h5>
            <canvas id="categoryPieChart"></canvas>
          </div>
        </div>
        <div class="col-md-6">
          <div class="chart-container">
            <h5>Member-wise Expenses (Bar Chart)</h5>
            <canvas id="memberBarChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Charts Row 2 -->
      <div class="row">
        <div class="col-md-6">
          <div class="chart-container">
            <h5>Daily Expense Trend (Line Chart)</h5>
            <canvas id="dailyTrendChart"></canvas>
          </div>
        </div>
        <div class="col-md-6">
          <div class="chart-container">
            <h5>Category vs Member (Stacked Bar)</h5>
            <canvas id="categoryMemberChart"></canvas>
          </div>
        </div>
      </div>

      <!-- Detailed Breakdown -->
      <div class="row">
        <div class="col-md-6">
          <div class="chart-container">
            <h5>üìã Category Breakdown</h5>
            <div id="categoryBreakdown"></div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="chart-container">
            <h5>üë• Member Breakdown</h5>
            <div id="memberBreakdown"></div>
          </div>
        </div>
      </div>

      <!-- All Expenses Table -->
      <div class="chart-container">
        <h5>üìù All Expenses Details</h5>
        <div class="table-responsive">
          <table class="table table-striped">
            <thead class="table-dark">
              <tr>
                <th>Date</th>
                <th>Member</th>
                <th>Category</th>
                <th>Amount</th>
                <th>% of Total</th>
              </tr>
            </thead>
            <tbody id="expensesTable">
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const months = [
  { value: "2025-01", label: "January 2025" },
  { value: "2025-02", label: "February 2025" },
  { value: "2025-03", label: "March 2025" },
  { value: "2025-04", label: "April 2025" },
  { value: "2025-05", label: "May 2025" },
  { value: "2025-06", label: "June 2025" },
  { value: "2025-07", label: "July 2025" },
  { value: "2025-08", label: "August 2025" },
  { value: "2025-09", label: "September 2025" },
  { value: "2025-10", label: "October 2025" },
  { value: "2025-11", label: "November 2025" },
  { value: "2025-12", label: "December 2025" }
];

// Set budgets for each month (fixed 25000)
const budgets = {
  '2025-01': 25000,
  '2025-02': 25000,
  '2025-03': 25000,
  '2025-04': 25000,
  '2025-05': 25000,
  '2025-06': 25000,
  '2025-07': 25000,
  '2025-08': 25000,
  '2025-09': 25000,
  '2025-10': 25000,
  '2025-11': 25000,
  '2025-12': 25000
};

// Sample Expenses (Jan‚ÄìDec) ‚Äî Budget 25k fixed
const sampleExpenses = [
  // January 2025 ‚Äî Barabar ‚Çπ25000
  { month: '2025-01', memberName: 'Dinesh', category: 'Food', amount: 5000, date: '01/07/2025' },
  { month: '2025-01', memberName: 'Hrishikesh', category: 'Bills', amount: 5000, date: '01/14/2025' },
  { month: '2025-01', memberName: 'Yash', category: 'Travel', amount: 5000, date: '01/20/2025' },
  { month: '2025-01', memberName: 'Suraj', category: 'Education', amount: 5000, date: '01/26/2025' },
  { month: '2025-01', memberName: 'Vicky', category: 'Shopping', amount: 5000, date: '01/31/2025' }, // Jan: ‚Çπ25000

  // February 2025 ‚Äî Kam ‚Çπ23200 (‚àí‚Çπ1800)
  { month: '2025-02', memberName: 'Dinesh', category: 'Food', amount: 4600, date: '02/07/2025' },
  { month: '2025-02', memberName: 'Hrishikesh', category: 'Bills', amount: 4600, date: '02/14/2025' },
  { month: '2025-02', memberName: 'Yash', category: 'Travel', amount: 4600, date: '02/20/2025' },
  { month: '2025-02', memberName: 'Suraj', category: 'Education', amount: 4600, date: '02/26/2025' },
  { month: '2025-02', memberName: 'Vicky', category: 'Shopping', amount: 4800, date: '02/28/2025' }, // Feb: ‚Çπ23200

  // March 2025 ‚Äî Jyada ‚Çπ27800 (+‚Çπ2800)
  { month: '2025-03', memberName: 'Dinesh', category: 'Food', amount: 5600, date: '03/07/2025' },
  { month: '2025-03', memberName: 'Hrishikesh', category: 'Bills', amount: 5600, date: '03/14/2025' },
  { month: '2025-03', memberName: 'Yash', category: 'Travel', amount: 5600, date: '03/20/2025' },
  { month: '2025-03', memberName: 'Suraj', category: 'Education', amount: 5600, date: '03/26/2025' },
  { month: '2025-03', memberName: 'Vicky', category: 'Shopping', amount: 5400, date: '03/31/2025' }, // Mar: ‚Çπ27800

  // April 2025 ‚Äî Barabar ‚Çπ25000
  { month: '2025-04', memberName: 'Dinesh', category: 'Food', amount: 5000, date: '04/07/2025' },
  { month: '2025-04', memberName: 'Hrishikesh', category: 'Bills', amount: 5000, date: '04/14/2025' },
  { month: '2025-04', memberName: 'Yash', category: 'Travel', amount: 5000, date: '04/20/2025' },
  { month: '2025-04', memberName: 'Suraj', category: 'Education', amount: 5000, date: '04/26/2025' },
  { month: '2025-04', memberName: 'Vicky', category: 'Shopping', amount: 5000, date: '04/30/2025' }, // Apr: ‚Çπ25000

  // May 2025 ‚Äî Kam ‚Çπ23800 (‚àí‚Çπ1200)
  { month: '2025-05', memberName: 'Dinesh', category: 'Food', amount: 4700, date: '05/07/2025' },
  { month: '2025-05', memberName: 'Hrishikesh', category: 'Bills', amount: 4700, date: '05/14/2025' },
  { month: '2025-05', memberName: 'Yash', category: 'Travel', amount: 4700, date: '05/20/2025' },
  { month: '2025-05', memberName: 'Suraj', category: 'Education', amount: 4700, date: '05/26/2025' },
  { month: '2025-05', memberName: 'Vicky', category: 'Shopping', amount: 5000, date: '05/31/2025' }, // May: ‚Çπ23800

  // June 2025 ‚Äî Jyada ‚Çπ29500 (+‚Çπ4500)
  { month: '2025-06', memberName: 'Dinesh', category: 'Food', amount: 5900, date: '06/07/2025' },
  { month: '2025-06', memberName: 'Hrishikesh', category: 'Bills', amount: 5900, date: '06/14/2025' },
  { month: '2025-06', memberName: 'Yash', category: 'Travel', amount: 5900, date: '06/20/2025' },
  { month: '2025-06', memberName: 'Suraj', category: 'Education', amount: 5900, date: '06/26/2025' },
  { month: '2025-06', memberName: 'Vicky', category: 'Shopping', amount: 4900, date: '06/30/2025' }, // Jun: ‚Çπ29500

  // July 2025 ‚Äî Barabar ‚Çπ25000
  { month: '2025-07', memberName: 'Dinesh', category: 'Food', amount: 5000, date: '07/07/2025' },
  { month: '2025-07', memberName: 'Hrishikesh', category: 'Bills', amount: 5000, date: '07/14/2025' },
  { month: '2025-07', memberName: 'Yash', category: 'Travel', amount: 5000, date: '07/20/2025' },
  { month: '2025-07', memberName: 'Suraj', category: 'Education', amount: 5000, date: '07/26/2025' },
  { month: '2025-07', memberName: 'Vicky', category: 'Shopping', amount: 5000, date: '07/31/2025' }, // Jul: ‚Çπ25000

  // August 2025 ‚Äî Kam ‚Çπ24100 (‚àí‚Çπ900)
  { month: '2025-08', memberName: 'Dinesh', category: 'Food', amount: 4800, date: '08/07/2025' },
  { month: '2025-08', memberName: 'Hrishikesh', category: 'Bills', amount: 4800, date: '08/14/2025' },
  { month: '2025-08', memberName: 'Yash', category: 'Travel', amount: 4800, date: '08/20/2025' },
  { month: '2025-08', memberName: 'Suraj', category: 'Education', amount: 4800, date: '08/26/2025' },
  { month: '2025-08', memberName: 'Vicky', category: 'Shopping', amount: 4900, date: '08/31/2025' }, // Aug: ‚Çπ24100

  // September 2025 ‚Äî Jyada ‚Çπ27500 (+‚Çπ2500)
  { month: '2025-09', memberName: 'Dinesh', category: 'Food', amount: 5500, date: '09/07/2025' },
  { month: '2025-09', memberName: 'Hrishikesh', category: 'Bills', amount: 5500, date: '09/14/2025' },
  { month: '2025-09', memberName: 'Yash', category: 'Travel', amount: 5500, date: '09/20/2025' },
  { month: '2025-09', memberName: 'Suraj', category: 'Education', amount: 5500, date: '09/26/2025' },
  { month: '2025-09', memberName: 'Vicky', category: 'Shopping', amount: 5500, date: '09/30/2025' }, // Sep: ‚Çπ27500

  // October 2025 ‚Äî Barabar ‚Çπ25000
  { month: '2025-10', memberName: 'Dinesh', category: 'Food', amount: 5000, date: '10/07/2025' },
  { month: '2025-10', memberName: 'Hrishikesh', category: 'Bills', amount: 5000, date: '10/14/2025' },
  { month: '2025-10', memberName: 'Yash', category: 'Travel', amount: 5000, date: '10/20/2025' },
  { month: '2025-10', memberName: 'Suraj', category: 'Education', amount: 5000, date: '10/26/2025' },
  { month: '2025-10', memberName: 'Vicky', category: 'Shopping', amount: 5000, date: '10/31/2025' }, // Oct: ‚Çπ25000

  // November 2025 ‚Äî Kam ‚Çπ23200 (‚àí‚Çπ1800)
  { month: '2025-11', memberName: 'Dinesh', category: 'Food', amount: 4600, date: '11/07/2025' },
  { month: '2025-11', memberName: 'Hrishikesh', category: 'Bills', amount: 4600, date: '11/14/2025' },
  { month: '2025-11', memberName: 'Yash', category: 'Travel', amount: 4600, date: '11/20/2025' },
  { month: '2025-11', memberName: 'Suraj', category: 'Education', amount: 4600, date: '11/26/2025' },
  { month: '2025-11', memberName: 'Vicky', category: 'Shopping', amount: 4800, date: '11/30/2025' }, // Nov: ‚Çπ23200

  // December 2025 ‚Äî Jyada ‚Çπ29500 (+‚Çπ4500)
  { month: '2025-12', memberName: 'Dinesh', category: 'Food', amount: 5900, date: '12/07/2025' },
  { month: '2025-12', memberName: 'Hrishikesh', category: 'Bills', amount: 5900, date: '12/14/2025' },
  { month: '2025-12', memberName: 'Yash', category: 'Travel', amount: 5900, date: '12/20/2025' },
  { month: '2025-12', memberName: 'Suraj', category: 'Education', amount: 5900, date: '12/26/2025' },
  { month: '2025-12', memberName: 'Vicky', category: 'Shopping', amount: 4900, date: '12/31/2025' } // Dec: ‚Çπ29500
];


// Set sample data in localStorage
localStorage.setItem('budgets', JSON.stringify(budgets));
localStorage.setItem('expenses', JSON.stringify(sampleExpenses));

let currentMonth = months[0].value;
let charts = {};

// Initialize month buttons
function initMonthButtons() {
  const monthButtons = document.getElementById('monthButtons');
  monthButtons.innerHTML = '';
  
  months.forEach(m => {
    const btn = document.createElement('button');
    btn.className = 'btn btn-outline-primary month-btn';
    btn.textContent = m.label;
    btn.onclick = () => {
      // Remove active class from all buttons
      document.querySelectorAll('.month-btn').forEach(b => b.classList.remove('active'));
      // Add active class to clicked button
      btn.classList.add('active');
      currentMonth = m.value;
      updateAllCharts();
    };
    monthButtons.appendChild(btn);
  });
  
  // Set first month as active
  document.querySelector('.month-btn').classList.add('active');
}

// Update all charts and statistics
function updateAllCharts() {
  let expenses = JSON.parse(localStorage.getItem('expenses')) || [];
  const filtered = expenses.filter(e => e.month === currentMonth);
  const budget = budgets[currentMonth] || 0;
  const totalExpense = filtered.reduce((sum, e) => sum + e.amount, 0);
  const remaining = budget - totalExpense;

  document.getElementById('totalExpenses').textContent = `‚Çπ${totalExpense}`;
  document.getElementById('totalBudget').textContent = `‚Çπ${budget}`;
  document.getElementById('remainingBudget').textContent = `‚Çπ${remaining}`;

  // Update statistics
  document.getElementById('totalExpenses').textContent = `‚Çπ${totalExpense}`;
  document.getElementById('totalBudget').textContent = `‚Çπ${budget}`;
  document.getElementById('expenseCount').textContent = filtered.length;

  // Update charts
  updateCategoryPieChart(filtered);
  updateMemberBarChart(filtered);
  updateDailyTrendChart(filtered);
  updateCategoryMemberChart(filtered);
  updateBreakdowns(filtered);
  updateExpensesTable(filtered);
}

// Category Pie Chart
function updateCategoryPieChart(filtered) {
  const categories = {};
  filtered.forEach(e => {
    categories[e.category] = (categories[e.category] || 0) + e.amount;
  });

  const ctx = document.getElementById('categoryPieChart').getContext('2d');
  if (charts.categoryPie) charts.categoryPie.destroy();

  charts.categoryPie = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: Object.keys(categories),
      datasets: [{
        data: Object.values(categories),
        backgroundColor: [
          '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF',
          '#FF9F40', '#FF6384', '#C9CBCF', '#4BC0C0', '#FF6384'
        ]
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { position: 'bottom' },
        tooltip: {
          callbacks: {
            label: function(context) {
              const total = context.dataset.data.reduce((a, b) => a + b, 0);
              const percentage = ((context.parsed / total) * 100).toFixed(1);
              return `${context.label}: ‚Çπ${context.parsed} (${percentage}%)`;
            }
          }
        }
      }
    }
  });
}

// Member Bar Chart
function updateMemberBarChart(filtered) {
  const members = {};
  filtered.forEach(e => {
    members[e.memberName] = (members[e.memberName] || 0) + e.amount;
  });

  const ctx = document.getElementById('memberBarChart').getContext('2d');
  if (charts.memberBar) charts.memberBar.destroy();

  charts.memberBar = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: Object.keys(members),
      datasets: [{
        label: 'Total Spent',
        data: Object.values(members),
        backgroundColor: 'rgba(54, 162, 235, 0.8)',
        borderColor: 'rgba(54, 162, 235, 1)',
        borderWidth: 1
      }]
    },
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: true,
          title: { display: true, text: 'Amount (‚Çπ)' }
        }
      }
    }
  });
}

// Daily Trend Chart
function updateDailyTrendChart(filtered) {
  const dailyData = {};
  filtered.forEach(e => {
    const date = e.date;
    dailyData[date] = (dailyData[date] || 0) + e.amount;
  });

  const sortedDates = Object.keys(dailyData).sort();
  const amounts = sortedDates.map(date => dailyData[date]);

  const ctx = document.getElementById('dailyTrendChart').getContext('2d');
  if (charts.dailyTrend) charts.dailyTrend.destroy();

  charts.dailyTrend = new Chart(ctx, {
    type: 'line',
    data: {
      labels: sortedDates,
      datasets: [{
        label: 'Daily Expenses',
        data: amounts,
        borderColor: 'rgb(75, 192, 192)',
        backgroundColor: 'rgba(75, 192, 192, 0.2)',
        tension: 0.1,
        fill: true
      }]
    },
    options: {
      responsive: true,
      scales: {
        y: {
          beginAtZero: true,
          title: { display: true, text: 'Amount (‚Çπ)' }
        }
      }
    }
  });
}

// Category vs Member Chart
function updateCategoryMemberChart(filtered) {
  const categoryMember = {};
  filtered.forEach(e => {
    if (!categoryMember[e.category]) categoryMember[e.category] = {};
    categoryMember[e.category][e.memberName] = (categoryMember[e.category][e.memberName] || 0) + e.amount;
  });

  const members = [...new Set(filtered.map(e => e.memberName))];
  const categories = Object.keys(categoryMember);

  const datasets = members.map((member, index) => ({
    label: member,
    data: categories.map(cat => categoryMember[cat][member] || 0),
    backgroundColor: `hsl(${index * 60}, 70%, 60%)`
  }));

  const ctx = document.getElementById('categoryMemberChart').getContext('2d');
  if (charts.categoryMember) charts.categoryMember.destroy();

  charts.categoryMember = new Chart(ctx, {
    type: 'bar',
    data: {
      labels: categories,
      datasets: datasets
    },
    options: {
      responsive: true,
      scales: {
        x: { stacked: true },
        y: { 
          stacked: true,
          beginAtZero: true,
          title: { display: true, text: 'Amount (‚Çπ)' }
        }
      }
    }
  });
}

// Update breakdowns
function updateBreakdowns(filtered) {
  const total = filtered.reduce((sum, e) => sum + e.amount, 0);
  
  // Category breakdown
  const categories = {};
  filtered.forEach(e => {
    categories[e.category] = (categories[e.category] || 0) + e.amount;
  });

  let categoryHTML = '';
  Object.entries(categories).forEach(([cat, amount]) => {
    const percentage = ((amount / total) * 100).toFixed(1);
    categoryHTML += `
      <div class="member-card">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <strong>${cat}</strong>
            <span class="badge bg-primary category-badge">${percentage}%</span>
          </div>
          <div class="text-end">
            <div class="fw-bold">‚Çπ${amount}</div>
            <small class="text-muted">${filtered.filter(e => e.category === cat).length} entries</small>
          </div>
        </div>
      </div>
    `;
  });
  document.getElementById('categoryBreakdown').innerHTML = categoryHTML;

  // Member breakdown
  const members = {};
  filtered.forEach(e => {
    members[e.memberName] = (members[e.memberName] || 0) + e.amount;
  });

  let memberHTML = '';
  Object.entries(members).forEach(([member, amount]) => {
    const percentage = ((amount / total) * 100).toFixed(1);
    memberHTML += `
      <div class="member-card">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <strong>${member}</strong>
            <span class="badge bg-success category-badge">${percentage}%</span>
          </div>
          <div class="text-end">
            <div class="fw-bold">‚Çπ${amount}</div>
            <small class="text-muted">${filtered.filter(e => e.memberName === member).length} entries</small>
          </div>
        </div>
      </div>
    `;
  });
  document.getElementById('memberBreakdown').innerHTML = memberHTML;
}

// Update expenses table
function updateExpensesTable(filtered) {
  const total = filtered.reduce((sum, e) => sum + e.amount, 0);
  
  let tableHTML = '';
  filtered.forEach(e => {
    const percentage = ((e.amount / total) * 100).toFixed(1);
    tableHTML += `
      <tr>
        <td>${e.date}</td>
        <td><strong>${e.memberName}</strong></td>
        <td><span class="badge bg-info">${e.category}</span></td>
        <td class="fw-bold">‚Çπ${e.amount}</td>
        <td>${percentage}%</td>
      </tr>
    `;
  });
  
  if (filtered.length === 0) {
    tableHTML = '<tr><td colspan="5" class="text-center text-muted">No expenses for this month</td></tr>';
  }
  
  document.getElementById('expensesTable').innerHTML = tableHTML;
}

// Initialize
initMonthButtons();
updateAllCharts();
</script>

</body>
</html>